<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport"
		content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
	<title>0401專用網站</title>
	<style>

		button {
			display: none;
			width: 50%;
			height: 10%;
			padding: 16px 0;
			margin: auto 0;
		}
	</style>
</head>

<body>
	<button id="btnShare" onclick="sendShare_Gift()" style="display: none;margin: 20px auto;padding: 20px;">Gift</button>
	<button id="btnShare2" onclick="sendShare_Ladder()" style="display: none;margin: 20px auto;padding: 20px;">Ladder</button>
	<button id="btnShare3" onclick="sendShare_Pay()" style="display: none;margin: 20px auto;padding: 20px;">Pay</button>
	<button id="btnLogin" onclick="liff.login()" style="display: none;margin: 20px auto;padding: 20px;">Log In</button>
	<button id="btnLogOut" onclick="logOut()" style="display: none;margin: 20px auto;padding: 20px;">Log Out</button>
	<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
	<script>
		async function sendShare_Gift() {
			name = await liff.getProfile().then((profile) => {
				return profile.displayName;
			}).catch((err) => {
				return err;
			});

			const result = await liff.shareTargetPicker([
				{
					"type": "flex",
					"altText": name + "送禮物來囉!",
					"contents": {
						"type": "bubble",
						"size": "kilo",
						"hero": {
							"type": "image",
							"url": "https://img.onl/olwxWE",
							"size": "full",
							"aspectRatio": "18:19",
							"action": {
								"type": "uri",
								"label": "action",
								"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E5%A4%A9%E4%B8%8B%E6%B2%92%E6%9C%89%E7%99%BD%E5%90%83%E7%9A%84%E5%8D%88%E9%A4%90%EF%BC%8C%E5%8F%AA%E6%9C%89%E7%99%BD%E7%99%A1%E7%9A%84%E6%88%91"
							},
							"offsetTop": "none",
							"offsetBottom": "none",
							"offsetStart": "none",
							"margin": "none",
							"align": "center",
							"aspectMode": "cover"
						},
						"body": {
							"type": "box",
							"layout": "horizontal",
							"spacing": "none",
							"action": {
								"type": "uri",
								"label": "action",
								"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E5%A4%A9%E4%B8%8B%E6%B2%92%E6%9C%89%E7%99%BD%E5%90%83%E7%9A%84%E5%8D%88%E9%A4%90%EF%BC%8C%E5%8F%AA%E6%9C%89%E7%99%BD%E7%99%A1%E7%9A%84%E6%88%91"
							},
							"contents": [
								{
									"type": "image",
									"url": "https://github.com/xiangtain/xiangtain.github.io/blob/main/1.jpeg",
									"align": "start",
									"size": "md",
									"offsetTop": "none",
									"offsetBottom": "none",
									"action": {
										"type": "uri",
										"label": "action",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E5%A4%A9%E4%B8%8B%E6%B2%92%E6%9C%89%E7%99%BD%E5%90%83%E7%9A%84%E5%8D%88%E9%A4%90%EF%BC%8C%E5%8F%AA%E6%9C%89%E7%99%BD%E7%99%A1%E7%9A%84%E6%88%91"
									},
									"offsetStart": "none",
									"position": "relative",
									"offsetEnd": "none"
								},
								{
									"type": "text",
									"text": "【星巴克】草莓紅豆米布丁奶霜星冰樂即享券",
									"size": "md",
									"weight": "bold",
									"margin": "none",
									"align": "start",
									"offsetTop": "xxl",
									"contents": [],
									"style": "normal",
									"offsetEnd": "none",
									"wrap": true,
									"offsetBottom": "none",
									"offsetStart": "none",
									"action": {
										"type": "uri",
										"label": "action",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E5%A4%A9%E4%B8%8B%E6%B2%92%E6%9C%89%E7%99%BD%E5%90%83%E7%9A%84%E5%8D%88%E9%A4%90%EF%BC%8C%E5%8F%AA%E6%9C%89%E7%99%BD%E7%99%A1%E7%9A%84%E6%88%91"
									},
									"position": "relative"
								}
							],
							"margin": "none",
							"offsetTop": "none",
							"position": "relative",
							"offsetStart": "none",
							"offsetEnd": "none",
							"offsetBottom": "none"
						},
						"footer": {
							"type": "box",
							"layout": "vertical",
							"contents": [
								{
									"type": "button",
									"color": "#EEE9E9",
									"margin": "none",
									"action": {
										"type": "uri",
										"label": "打開我的禮物",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%8F%AA%E6%83%B3%E6%8B%BF%E7%A6%AE%E7%89%A9%EF%BC%8C%E4%B8%8D%E6%83%B3%E9%80%81%E7%A6%AE%E7%89%A9"
									},
									"style": "secondary"
								},
								{
									"type": "button",
									"action": {
										"type": "uri",
										"label": "傳送感謝小卡",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E8%AA%AA%E8%AC%9D%E8%AC%9D%E4%BD%A0%20%E5%9B%A0%E7%82%BA%E6%9C%89%E4%BD%A0"
									}
								},
								{
									"type": "separator"
								},
								{
									"type": "box",
									"layout": "vertical",
									"contents": [
										{
											"type": "button",
											"action": {
												"type": "uri",
												"label": "LINE禮物",
												"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
											},
											"position": "relative",
											"margin": "none",
											"height": "sm",
											"style": "link",
											"offsetTop": "none",
											"offsetStart": "none",
											"offsetEnd": "none"
										}
									],
									"action": {
										"type": "uri",
										"label": "action",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
									}
								}
							]
						}
					}
				}
			])
			if (result) {
				alert(`[${result.status}] Message sent!`)
			} else {
				const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');

				if (minorVer === undefined) {
					alert('ShareTargetPicker was canceled in external browser')
					return
				}

				if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
					alert('ShareTargetPicker was canceled in LINE app')
				}
			}
		}

		async function sendShare_Ladder() {
			name = await liff.getProfile().then((profile) => {
				return profile.displayName;
			}).catch((err) => {
				return err;
			});

			const result = await liff.shareTargetPicker([
				{
					"type": "flex",
					"altText": "爬梯子遊戲已建立，讓梯子決定您的命運吧！",
					"contents": {
						"type": "bubble",
						"size": "kilo",
						"hero": {
							"type": "image",
							"url": "https://img.onl/qCFiCL",
							"size": "full",
							"aspectRatio": "20:13",
							"aspectMode": "cover",
							"action": {
								"type": "uri",
								"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E7%A5%9D%E5%A4%A7%E5%AE%B64%E6%9C%881%E6%97%A5%E6%84%9A%E4%BA%BA%E7%AF%80%E5%BF%AB%E6%A8%82%21"
							}
						},
						"body": {
							"type": "box",
							"layout": "vertical",
							"contents": [
								{
									"type": "text",
									"text": "爬梯子",
									"weight": "bold",
									"size": "md"
								},
								{
									"type": "box",
									"layout": "vertical",
									"margin": "md",
									"spacing": "sm",
									"contents": [
										{
											"type": "text",
											"text": "我建立了一個爬梯子遊戲，馬上來看看結果吧！",
											"wrap": true,
											"color": "#666666",
											"size": "sm",
											"offsetEnd": "none",
											"offsetStart": "none",
											"offsetBottom": "none",
											"offsetTop": "none",
											"flex": 5
										}
									]
								}
							],
							"action": {
								"type": "uri",
								"label": "action",
								"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E7%A5%9D%E5%A4%A7%E5%AE%B64%E6%9C%881%E6%97%A5%E6%84%9A%E4%BA%BA%E7%AF%80%E5%BF%AB%E6%A8%82%21"
							}
						},
						"footer": {
							"type": "box",
							"layout": "vertical",
							"spacing": "sm",
							"contents": [
								{
									"type": "separator",
									"margin": "none"
								},
								{
									"type": "button",
									"style": "link",
									"height": "sm",
									"action": {
										"type": "uri",
										"label": "開啟爬梯子遊戲",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=image&downloadUrl=https://i.meee.com.tw/yGwl0kO.jpeg&previewUrl=https://i.meee.com.tw/yGwl0kO.jpeg"
									}
								},
								{
									"type": "button",
									"style": "link",
									"height": "sm",
									"action": {
										"type": "uri",
										"label": "查看全部結果",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=image&downloadUrl=https://i.imgur.com/ymZGzJT.jpg&previewUrl=https://i.imgur.com/ymZGzJT.jpg"
									}
								},
								{
									"type": "separator"
								},
								{
									"type": "box",
									"layout": "vertical",
									"contents": [],
									"margin": "sm"
								}
							],
							"flex": 0,
							"margin": "none",
							"paddingTop": "none"
						}
					}
				}
			])
			if (result) {
				alert(`[${result.status}] Message sent!`)
			} else {
				const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');

				if (minorVer === undefined) {
					alert('ShareTargetPicker was canceled in external browser')
					return
				}

				if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
					alert('ShareTargetPicker was canceled in LINE app')
				}
			}
		}
		
		async function sendShare_Pay() {
			name = await liff.getProfile().then((profile) => {
				return profile.displayName;
			}).catch((err) => {
				return err;
			});
			const result = await liff.shareTargetPicker([
				{
					"type": "flex",
					"altText": "已收到NT$ 1000的轉帳。",
					"contents": {
						  "type": "bubble",
						  "size": "hecto",
						  "hero": {
							"type": "image",
							"url": "https://i.imgur.com/j5VkCxE.png",
							"size": "full",
							"aspectRatio": "20:13",
							"aspectMode": "cover",
							"action": {
							  "type": "uri",
							  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E8%B6%85%E7%AC%A8%20%E6%B4%BB%E8%A9%B2%E8%A2%AB%E9%A8%99"
							},
							"position": "relative"
						  },
						  "body": {
							"type": "box",
							"layout": "vertical",
							"contents": [
							  {
								"type": "text",
								"text": "LINE Pay",
								"weight": "bold",
								"size": "xs",
								"action": {
								  "type": "uri",
								  "label": "action",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E8%B6%85%E7%AC%A8%20%E6%B4%BB%E8%A9%B2%E8%A2%AB%E9%A8%99"
								}
							  },
							  {
								"type": "text",
								"text": "您已收到 NT$ 1000。（來自："+ name +"）",
								"size": "xs",
								"contents": [],
								"color": "#8E8E8E",
								"action": {
								  "type": "uri",
								  "label": "action",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E6%84%9B%E9%8C%A2%E9%8C%A2%EF%BC%8C%E9%8C%A2%E9%8C%A2%E6%84%9B%E6%88%91%EF%BC%8C%E6%88%91%E5%B0%B1%E6%98%AF%E5%80%8B%E6%84%9B%E9%8C%A2%E5%A6%82%E5%91%BD%E7%9A%84%E4%BA%BA%E3%80%82"
								}
							  },
							  {
								"type": "button",
								"position": "relative",
								"style": "secondary",
								"height": "sm",
								"margin": "lg",
								"color": "#F0F0F0",
								"action": {
								  "type": "uri",
								  "label": "瞭解更多",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E5%8F%AA%E8%A6%81%E7%B5%A6%E6%88%91100%E5%85%83%EF%BC%8C%E6%83%B3%E5%B0%8D%E6%88%91%E5%81%9A%E5%95%A5%E9%83%BD%E5%8F%AF%E4%BB%A5~"
								},
								"scaling": true,
								"offsetEnd": "none"
							  }
							],
							"action": {
							  "type": "uri",
							  "label": "action",
							  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E4%BB%8A%E5%A4%A9%E9%A3%B2%E6%96%99%E6%88%91%E8%AB%8B%E5%AE%A2%EF%BC%8C%E9%82%84%E8%A6%81%E9%80%81%E5%88%B0%E4%BD%A0%E5%AE%B6%E5%8E%BB%21"
							}
						  },
						  "footer": {
							"type": "box",
							"layout": "baseline",
							"contents": [
							  {
								"type": "icon",
								"url": "https://i.imgur.com/LriSrg0.png",
								"margin": "none",
								"size": "xs",
								"scaling": true,
								"offsetTop": "xs"
							  },
							  {
								"type": "text",
								"text": "LINE Pay",
								"margin": "sm",
								"size": "xxs",
								"color": "#8E8E8E"
							  },
							  {
								"type": "icon",
								"url": "https://i.imgur.com/aKbXQ9D.png",
								"margin": "sm",
								"size": "xxs",
								"offsetTop": "xs"
							  }
							],
							"action": {
							  "type": "uri",
							  "label": "action",
							  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E4%BB%8A%E5%A4%A9%E6%99%9A%E9%A4%90%E6%88%91%E8%AB%8B%E5%AE%A2%EF%BC%8C%E9%82%84%E6%9C%83%E9%80%81%E5%88%B0%E4%BD%A0%E5%AE%B6%E5%8E%BB%21"
							},
							"position": "relative"
						  },
						  "styles": {
							"footer": {
							  "separator": true
							}
						  }
						}
				}
			])
			if (result) {
				alert(`[${result.status}] Message sent!`)
			} else {
				const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');

				if (minorVer === undefined) {
					alert('ShareTargetPicker was canceled in external browser')
					return
				}

				if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
					alert('ShareTargetPicker was canceled in LINE app')
				}
			}
		}
		
		function logOut() {
			liff.logout()
			window.location.reload()
		}

		async function main() {
			await liff.init({ liffId: "2004444654-On41PlRY" })
			if (liff.isLoggedIn()) {
				document.getElementById("btnShare").style.display = "block"
				document.getElementById("btnShare2").style.display = "block"
				document.getElementById("btnShare3").style.display = "block"
				if (!liff.isInClient()) {
					document.getElementById("btnLogOut").style.display = "block"
				}
			} else {
				document.getElementById("btnLogin").style.display = "block"
			}
		}
		main()
	</script>
</body>

</html>
